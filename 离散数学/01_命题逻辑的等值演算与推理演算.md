# 第1章 命题逻辑的等值演算与推理演算

## 1.1 命题逻辑的基本概念

### 1.1.1 命题的定义

**命题**是能判断真假的陈述句。命题必须满足以下条件：
1. 必须是陈述句（不能是疑问句、祈使句、感叹句）
2. 必须能够判断真假，且只能为真或假，不能既真又假

**例1.1.1** 判断以下语句是否为命题：
1. 2是素数。—— 是命题（真）
2. 明天会下雨。—— 是命题（真或假，但不能确定）
3. 请关上门。—— 不是命题（祈使句）
4. 你是学生吗？—— 不是命题（疑问句）
5. x > 5 —— 不是命题（无法确定真假）

如果一个命题在任何情况下都是真的，则称为**重言式**；如果一个命题在任何情况下都是假的，则称为**矛盾式**。

### 1.1.2 命题的真值

命题的真值只有两种：真(True, T)和假(False, F)。

我们通常用小写字母如 p, q, r, ... 来表示命题，称为**命题变元**或**命题变量**。

## 1.2 命题逻辑联结词

### 1.2.1 否定(¬)

设 p 是一个命题，¬p 表示 p 的否定，读作"非p"或"p的否定"。

| p | ¬p |
|---|----|
| T | F  |
| F | T  |

### 1.2.2 合取(∧)

设 p、q 是两个命题，p∧q 表示"p且q"，读作"p合取q"。

| p | q | p∧q |
|---|---|-----|
| T | T |  T  |
| T | F |  F  |
| F | T |  F  |
| F | F |  F  |

### 1.2.3 析取(∨)

设 p、q 是两个命题，p∨q 表示"p或q"，读作"p析取q"。

| p | q | p∨q |
|---|---|-----|
| T | T |  T  |
| T | F |  T  |
| F | T |  T  |
| F | F |  F  |

**注意**：命题逻辑中的"或"是相容的，即p∨q在p、q同为真时也为真。

### 1.2.4 条件(→)

设 p、q 是两个命题，p→q 表示"如果p则q"，读作"p蕴含q"。

| p | q | p→q |
|---|---|-----|
| T | T |  T  |
| T | F |  F  |
| F | T |  T  |
| F | F |  T  |

**说明**：当条件的前件为假时，不管后件真假，整个条件句为真。

### 1.2.5 双条件(↔)

设 p、q 是两个命题，p↔q 表示"p当且仅当q"，读作"p等价于q"。

| p | q | p↔q |
|---|---|-----|
| T | T |  T  |
| T | F |  F  |
| F | T |  F  |
| F | F |  T  |

## 1.3 真值表

**真值表**是把复合命题在各种简单命题的真值组合下的真值情况列成表格。

**例1.3.1** 求复合命题 (p→q) ∧ (¬q→¬p) 的真值表：

| p | q | ¬p | ¬q | p→q | ¬q→¬p | (p→q) ∧ (¬q→¬p) |
|---|---|----|----|-----|-------|------------------|
| T | T | F  | F  |  T  |   T   |        T         |
| T | F | F  | T  |  F  |   F   |        F         |
| F | T | T  | F  |  T  |   T   |        T         |
| F | F | T  | T  |  T  |   T   |        T         |

## 1.4 重言式、矛盾式和可满足式

- **重言式**（永真式）：在所有真值指派下都为真的命题公式
- **矛盾式**（永假式）：在所有真值指派下都为假的命题公式
- **可满足式**：至少存在一种真值指派使其为真的命题公式

**例1.4.1** 
- p ∨ ¬p 为重言式（排中律）
- p ∧ ¬p 为矛盾式（矛盾律）

## 1.5 命题公式与真值表的关系

任何命题公式都可以通过真值表完全确定，反过来，任何真值表也可以确定一个等价的命题公式。

## 1.6 简单命题的形式化

将自然语言中的语句转换为命题逻辑公式的过程称为形式化。

**例1.6.1** 形式化以下语句：
"如果今天下雨，那么我不去公园，除非我有雨伞。"

定义命题：
- p: 今天下雨
- q: 我去公园
- r: 我有雨伞

形式化为：p → (¬q ∨ r)

## 1.7 等值定理与基本等值式

### 1.7.1 等值定义

若命题公式A和B在任意真值指派下都有相同的真值，则称A和B等值，记作A⇔B。

### 1.7.2 基本等值公式

1. **幂等律**：p ∨ p ⇔ p, p ∧ p ⇔ p
2. **交换律**：p ∨ q ⇔ q ∨ p, p ∧ q ⇔ q ∧ p
3. **结合律**：(p ∨ q) ∨ r ⇔ p ∨ (q ∨ r), (p ∧ q) ∧ r ⇔ p ∧ (q ∧ r)
4. **分配律**：p ∨ (q ∧ r) ⇔ (p ∨ q) ∧ (p ∨ r), p ∧ (q ∨ r) ⇔ (p ∧ q) ∨ (p ∧ r)
5. **德摩根律**：¬(p ∨ q) ⇔ ¬p ∧ ¬q, ¬(p ∧ q) ⇔ ¬p ∨ ¬q
6. **双重否定律**：¬¬p ⇔ p
7. **同一律**：p ∨ F ⇔ p, p ∧ T ⇔ p
8. **零律**：p ∨ T ⇔ T, p ∧ F ⇔ F
9. **否定律**：p ∨ ¬p ⇔ T, p ∧ ¬p ⇔ F
10. **蕴含等值式**：p → q ⇔ ¬p ∨ q
11. **等价等值式**：p ↔ q ⇔ (p → q) ∧ (q → p)
12. **假言易位**：p → q ⇔ ¬q → ¬p
13. **等价否定等值式**：p ↔ q ⇔ ¬p ↔ ¬q

## 1.8 等值演算

利用等值式对命题公式进行变换的过程称为等值演算。

**例1.8.1** 证明：¬(p → q) ⇔ p ∧ ¬q

证明：
¬(p → q) 
⇔ ¬(¬p ∨ q)      （蕴含等值式）
⇔ ¬¬p ∧ ¬q       （德摩根律）
⇔ p ∧ ¬q         （双重否定律）

## 1.9 联结词的完备集

如果一个联结词集合能够表示所有可能的真值函数，则称该集合为完备集。

常见的完备集包括：
- {¬, ∧, ∨, →, ↔}
- {¬, ∧, ∨}
- {¬, ∧}
- {¬, ∨}
- {¬, →}
- {↑}（与非）
- {↓}（或非）

## 1.10 范式

### 1.10.1 简单合取式与简单析取式

- **简单合取式**：由命题变元或其否定构成的合取式
- **简单析取式**：由命题变元或其否定构成的析取式

### 1.10.2 析取范式与合取范式

- **析取范式**：由简单合取式构成的析取式
- **合取范式**：由简单析取式构成的合取式

**例1.10.1** 
- (p∧¬q∧r) ∨ (¬p∧q) 是析取范式
- (p∨q∨¬r) ∧ (¬p∨r) 是合取范式

### 1.10.3 主析取范式

对于含有n个命题变元的命题公式，如果析取范式中的每个简单合取式恰好包含n个命题变元或其否定，且这n个命题变元在每个简单合取式中只出现一次，这种特殊的析取范式称为主析取范式。

### 1.10.4 主合取范式

对于含有n个命题变元的命题公式，如果合取范式中的每个简单析取式恰好包含n个命题变元或其否定，且这n个命题变元在每个简单析取式中只出现一次，这种特殊的合取范式称为主合取范式。

**例1.10.2** 求 p→q 的主析取范式和主合取范式

首先：p→q ⇔ ¬p∨q

真值表：
| p | q | p→q |
|---|---|-----|
| T | T |  T  |
| T | F |  F  |
| F | T |  T  |
| F | F |  T  |

成真赋值为：TT, FT, FF，对应主析取范式中的极小项：
- TT: p∧q
- FT: ¬p∧q  
- FF: ¬p∧¬q

所以主析取范式为：(p∧q) ∨ (¬p∧q) ∨ (¬p∧¬q)

成假赋值为：TF，对应主合取范式中的极大项：¬(T∧F)=¬(p∧¬q)=¬p∨q
所以主合取范式为：¬p∨q

## 1.11 命题逻辑的推理规则

### 1.11.1 基本推理规则

1. **分离规则**（假言推理）：A, A→B ⊢ B
2. **附加规则**：A ⊢ A∨B
3. **简化规则**：A∧B ⊢ A
4. **合取规则**：A, B ⊢ A∧B
5. **析取三段论**：A∨B, ¬A ⊢ B
6. **拒取式**：A→B, ¬B ⊢ ¬A
7. **假言三段论**：A→B, B→C ⊢ A→C
8. **二难推理**：A→B, C→D, A∨C ⊢ B∨D

### 1.11.2 有效论证

如果在前提为真时结论必为真，则称该论证是有效的。

## 1.12 归结推理证明方法

归结法是基于反证法的机械化推理方法，其核心是归结原理。

**归结原理**：如果两个子句包含互补的文字，则可以通过归结得到一个新的子句。

## 1.13 命题逻辑公理系统的概念

命题逻辑公理系统由：
1. 一组初始符号（命题变元、逻辑联结词等）
2. 一组形成规则（定义合式公式的规则）
3. 一组公理模式
4. 一组推理规则

## 本章小结

1. 命题是能判断真假的陈述句
2. 基本联结词包括：¬, ∧, ∨, →, ↔
3. 真值表可以确定命题公式的类型（重言式、矛盾式、可满足式）
4. 等值演算是命题逻辑中的重要推理工具
5. 范式（析取范式、合取范式、主范式）在逻辑推理中有重要应用
6. 推理规则是构建有效论证的基础

## 课后练习

### 选择题

1. 下列语句中哪一个不是命题？
   A. 雪是白的
   B. 3是素数
   C. 请关上门
   D. 2+2=5

2. 设p为真，q为假，则下列哪个公式的真值为假？
   A. p∨q
   B. p∧q
   C. p→q
   D. ¬q

3. (p→q) ∧ (q→r) → (p→r) 是：
   A. 重言式
   B. 矛盾式
   C. 可满足式
   D. 以上都不对

### 解答题

1. 构造真值表，判断公式 (p→q) ↔ (¬q→¬p) 是否为重言式。

2. 用等值演算证明：(p→q) ∧ (p→r) ⇔ p→(q∧r)

3. 求公式 (¬p→q) ∧ (q→r) 的主析取范式。

4. 形式化下列语句：如果明天天气好，那么我将去爬山；如果我爬山，那么我会带食物；如果我带食物，那么我会带水。用推理规则证明：如果明天天气好，那么我会带水。

### 练习题答案

#### 选择题
1. C - "请关上门"是祈使句，无法判断真假，不是命题
2. B - p∧q = T∧F = F
3. A - 这是假言三段论，是一个重言式

#### 解答题

1. (p→q) ↔ (¬q→¬p) 的真值表：
   | p | q | ¬q | p→q | ¬q→¬p | (p→q)↔(¬q→¬p) |
   |---|---|----|-----|-------|----------------|
   | T | T | F  |  T  |   T   |       T        |
   | T | F | T  |  F  |   F   |       T        |
   | F | T | F  |  T  |   T   |       T        |
   | F | F | T  |  T  |   T   |       T        |
   
   由于在所有赋值下公式真值都为T，所以是重言式。

2. 证明 (p→q) ∧ (p→r) ⇔ p→(q∧r)
   证：左边 = (¬p∨q) ∧ (¬p∨r) = ¬p∨(q∧r) = p→(q∧r)

3. 求 (¬p→q) ∧ (q→r) 的主析取范式：
   (¬p→q) ∧ (q→r) = (p∨q) ∧ (¬q∨r)
   
   构造真值表：
   | p | q | r | ¬p | ¬q | p∨q | ¬q∨r | (p∨q)∧(¬q∨r) |
   |---|---|---|----|----|-----|------|---------------|
   | T | T | T | F  | F  |  T  |   T  |       T       |
   | T | T | F | F  | F  |  T  |   T  |       T       |
   | T | F | T | F  | T  |  T  |   T  |       T       |
   | T | F | F | F  | T  |  T  |   F  |       F       |
   | F | T | T | T  | F  |  T  |   T  |       T       |
   | F | T | F | T  | F  |  T  |   T  |       T       |
   | F | F | T | T  | T  |  F  |   T  |       F       |
   | F | F | F | T  | T  |  F  |   F  |       F       |
   
   成真极小项：pqr, pq¬r, p¬qr, ¬pqr, ¬pq¬r
   所以主析取范式为：(p∧q∧r) ∨ (p∧q∧¬r) ∨ (p∧¬q∧r) ∨ (¬p∧q∧r) ∨ (¬p∧q∧¬r)

4. 设 p: 明天天气好, q: 我去爬山, r: 我带食物, s: 我带水
   前提：p→q, q→r, r→s
   结论：p→s
   
   证明：
   1. p→q                    (前提)
   2. q→r                    (前提) 
   3. r→s                    (前提)
   4. p→r                    (1)(2)假言三段论
   5. p→s                    (4)(3)假言三段论
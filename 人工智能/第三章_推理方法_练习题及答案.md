# 第三章：推理方法 - 练习题

## 一、选择题（每题2分，共20分）

1. 归结推理方法主要用于：
   A. 知识获取
   B. 定理证明
   C. 搜索算法优化
   D. 机器学习

2. 在谓词逻辑中，归结原理的理论基础是：
   A. 合取引入规则
   B. 析取三段论
   C. 反证法
   D. 假言推理

3. 不确定推理方法不包括：
   A. 贝叶斯网络
   B. 确定性因子
   C. 模糊逻辑
   D. 命题逻辑

4. 在归结过程中，两个子句能够进行归结的前提是：
   A. 都包含相同的谓词
   B. 包含可合一的互补文字
   C. 文字数量相同
   D. 变量数量相同

5. 确定性因子CF(H, E)的取值范围是：
   A. [0, 1]
   B. [-1, 1] 
   C. [0, ∞]
   D. [-∞, +∞]

6. 在不确定性推理中，CF(H, E) = MB(H, E) - MD(H, E)，其中MB表示：
   A. 最小度
   B. 最大度
   C. 信任度增量
   D. 不信任度增量

7. 模糊逻辑中，隶属度函数的取值范围是：
   A. [0, 1]
   B. [-1, 1]
   C. [0, ∞]
   D. [-∞, +∞]

8. 归结反演证明定理时，需要对结论进行：
   A. 合取
   B. 析取
   C. 否定
   D. 量化

9. 在贝叶斯推理中，P(H|E) = P(E|H) × P(H) / P(E)称为：
   A. 贝叶斯定理
   B. 全概率公式
   C. 条件概率公式
   D. 乘法公式

10. 以下哪种推理方法具有单调性？
    A. 经典逻辑推理
    B. 概率推理
    C. 模糊推理
    D. 非单调逻辑推理

## 二、填空题（每空2分，共20分）

1. 归结原理是基于________的推理方法，其核心思想是________。

2. 在不确定性推理中，贝叶斯网络使用________来表示变量间的依赖关系。

3. 确定性因子中，CF = 0表示________，CF = 1表示________。

4. 模糊集合的两个基本特征是________和________。

5. 归结反演的理论依据是________，即如果前提和结论的否定构成的集合________，则结论可由前提推出。

6. 在不确定推理中，________推理处理不完整信息，________推理处理矛盾信息。

## 三、计算题（每题10分，共30分）

1. 用归结原理证明：从前提P → Q, Q → R, P可推出R。

2. 已知规则：IF E1 AND E2 THEN H {cf=0.7}
   证据置信度：CER(E1)=0.8, CER(E2)=0.6
   求CER(H)。

3. 设模糊集合A的隶属度函数为：当x ≤ 10时，μ_A(x) = 0；当10 < x ≤ 20时，μ_A(x) = (x-10)/10；当x > 20时，μ_A(x) = 1。
   求x=15时A的隶属度，以及A的核、支集和边界。

## 四、简答题（每题10分，共20分）

1. 解释归结原理的基本思想，并说明其在人工智能中的意义。

2. 比较概率推理与确定性因子方法在处理不确定性方面的异同。

## 五、应用题（每题10分，共10分）

1. 设计一个专家系统的不确定性推理模块，要求包括：不确定性表示方法、推理规则、冲突解决方案和结果解释。请详细说明设计思路和实现方法。

---
# 第三章：推理方法 - 详细答案

## 一、选择题答案

1. **答案：B**
   详解：归结推理主要用于自动定理证明，是逻辑推理的重要方法。

2. **答案：C**
   详解：归结原理基于反证法思想，通过证明矛盾来证明原结论。

3. **答案：D**
   详解：命题逻辑是经典逻辑方法，不属于不确定推理方法。

4. **答案：B**
   详解：归结的前提是两个子句包含通过合一可变为互补的文字。

5. **答案：B**
   详解：确定性因子取值范围是[-1, 1]，表示不确定性的程度。

6. **答案：C**
   详解：MB(Measure of Belief)表示信任度增量，MD(Mesure of Disbelief)表示不信任度增量。

7. **答案：A**
   详解：模糊逻辑中隶属度函数值域为[0,1]，表示隶属程度。

8. **答案：C**
   详解：归结反演需要对要证明的结论进行否定，然后证明矛盾。

9. **答案：A**
   详解：此为贝叶斯定理的标准形式。

10. **答案：A**
    详解：经典逻辑推理具有单调性，即加入新知识不影响已有结论。

## 二、填空题答案

1. **答案：** 反证法、通过证明矛盾来证明原结论
    详解：归结原理的核心思想。

2. **答案：** 有向无环图（DAG）
    详解：贝叶斯网络用图结构表示变量依赖。

3. **答案：** 完全不确定性、完全确定为真
    详解：CF值的含义解释。

4. **答案：** 模糊性、隶属度
    详解：模糊集合的基本特征。

5. **答案：** 反证法、矛盾
    详解：归结反演的理论基础。

6. **答案：** 概率、非单调
    详解：不同推理方法处理的信息类型。

## 三、计算题答案

### 1. 用归结原理证明：从前提P → Q, Q → R, P可推出R

**答案：**
证明过程：
1. 将前提转换为子句形式：
   - P → Q 等价于 ¬P ∨ Q
   - Q → R 等价于 ¬Q ∨ R
   - P
   - ¬R  (结论的否定)

2. 归结过程：
   - 步骤1：子句 ¬P ∨ Q 与子句 P 归结，得到 Q
   - 步骤2：子句 ¬Q ∨ R 与步骤1结果 Q 归结，得到 R
   - 步骤3：步骤2结果 R 与子句 ¬R 归结，得到空子句（矛盾）

3. 结论：从假设¬R推出矛盾，因此R为真。

**详解：** 这是归结原理的典型应用，通过反证法证明结论。

### 2. 确定性因子计算

**答案：**
已知：IF E1 AND E2 THEN H {cf=0.7}，CER(E1)=0.8, CER(E2)=0.6

计算过程：
- CER(E1 AND E2) = min(CER(E1), CER(E2)) = min(0.8, 0.6) = 0.6
- CER(H) = CER(E1 AND E2) × CF(规则) = 0.6 × 0.7 = 0.42

**答案：** CER(H) = 0.42

**详解：** AND连接的证据，取最小置信度；最终结论为证据置信度与规则置信度的乘积。

### 3. 模糊集合计算

**答案：**
1. x=15时的隶属度：
   因为 10 < 15 ≤ 20，所以 μ_A(15) = (15-10)/10 = 0.5

2. 模糊集合的特征：
   - 核（Kernel）：{x | μ_A(x) = 1} = {x | x > 20}，即(20, +∞)
   - 支集（Support）：{x | μ_A(x) > 0} = {x | x > 10}，即(10, +∞)  
   - 边界（Boundary）：{x | 0 < μ_A(x) < 1} = {x | 10 < x ≤ 20}，即(10, 20]

**详解：** 模糊集合通过隶属度函数实现元素的模糊归属。

## 四、简答题答案

### 1. 解释归结原理的基本思想，并说明其在人工智能中的意义

**答案：**

**基本思想：**
归结原理是基于反证法的逻辑推理方法：
1. 将待证明的结论否定
2. 将所有前提和否定结论转换为子句形式
3. 通过归结规则推导出新的子句
4. 若最终推导出空子句（矛盾），则证明原结论成立

**归结规则：** 对于子句C1 = L ∨ C1'和C2 = ¬L ∨ C2'，归结结果为C1' ∨ C2'

**在AI中的意义：**
1. **自动定理证明：** 实现逻辑推理的自动化
2. **知识推理：** 从已有知识推导新知识
3. **程序验证：** 验证程序正确性
4. **专家系统：** 提供逻辑推理机制
5. **逻辑编程：** 如Prolog语言的理论基础

**详解：** 归结原理是第一个在谓词逻辑中既可靠又完备的推理规则，为AI中的逻辑推理奠定了基础。

### 2. 比较概率推理与确定性因子方法在处理不确定性方面的异同

**相同点：**
- 都用于处理不确定性信息
- 都能进行不确定性推理
- 都有形式化的计算方法
- 都用于专家系统等AI应用

**不同点：**

| 方面 | 概率推理 | 确定性因子 |
|------|----------|------------|
| 理论基础 | 概率论 | 启发式规则 |
| 取值范围 | [0,1] | [-1,1] |
| 语义解释 | 事件发生的概率 | 信任/不信任程度 |
| 组合规则 | 乘法法则、贝叶斯定理 | min、max规则 |
| 计算复杂度 | 较高 | 较低 |
| 人类认知符合度 | 数学严格但不够直观 | 更符合人类表达习惯 |
| 适用场景 | 统计数据充分的场景 | 经验性知识场景 |

**详解：** 概率推理具有严格的数学基础但计算复杂，确定性因子计算简单但缺乏严格的理论支撑。

## 五、应用题答案

### 1. 专家系统不确定性推理模块设计

**设计思路：**

**1. 不确定性表示方法：**
- 采用多层表示：概率推理（统计数据）+ 确定性因子（经验知识）
- 证据不确定性：用CER表示
- 规则不确定性：用CF表示
- 结论不确定性：综合计算

**2. 推理规则设计：**
```
规则1: IF E1 AND E2 AND...AND En THEN H {CF=c}
规则2: IF E1 OR E2 OR...OR En THEN H {CF=c}  
规则3: IF 部分证据满足 THEN H {CF=c}
```

**组合规则：**
- AND: CF(E1 ∧ E2) = min(CF(E1), CF(E2))
- OR: CF(E1 ∨ E2) = max(CF(E1), CF(E2)) 
- 规则: CF(H) = CF(E) × CF(规则)

**3. 冲突解决方案：**
- 置信度优先：选择置信度最高的结论
- 阈值过滤：只考虑置信度超过阈值的结论
- 多假设推理：同时考虑多个可能结论

**4. 结果解释机制：**
- 推理路径追踪：记录从证据到结论的完整路径
- 置信度分解：解释置信度的来源
- 敏感性分析：分析关键证据的影响

**实现方法：**
```python
class UncertaintyReasoning:
    def __init__(self):
        self.facts = {}  # 事实及其置信度
        self.rules = []  # 规则集合
        
    def combine_and(self, cf_list):
        """AND连接的证据组合"""
        return min(cf_list) if cf_list else 0
    
    def combine_or(self, cf_list):  
        """OR连接的证据组合"""
        return max(cf_list) if cf_list else 0
        
    def calculate_rule_cf(self, rule_cf, evidence_cf):
        """计算规则应用后的置信度"""
        return rule_cf * evidence_cf
        
    def inference(self, goal):
        """不确定性推理主过程"""
        # 1. 匹配规则
        # 2. 计算证据置信度
        # 3. 应用推理规则
        # 4. 冲突解决
        # 5. 返回结果及置信度
        pass
```

**详解：** 该设计结合了多种不确定性推理方法，既有严格的概率理论支撑，又有实用的确定性因子方法，通过完整的解释机制增强系统的可理解性。
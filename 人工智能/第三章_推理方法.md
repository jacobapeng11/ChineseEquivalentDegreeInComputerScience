# 第三章：推理方法（演绎、归纳、不确定）

## 概述

推理是从可用知识中使用各种方法得出结论的过程。在人工智能中，推理方法对于解决问题、决策和推理至关重要。本章涵盖主要推理方法：演绎、归纳和不确定推理。

## 1. 演绎推理

### 定义
演绎推理是从一般原理或前提得出结论的逻辑过程。如果前提为真且逻辑有效，则结论也必须为真。

### 结构
- **大前提：** 一般陈述
- **小前提：** 具体陈述
- **结论：** 逻辑结果

### 示例
**经典示例：**
- 大前提：所有人都是会死的
- 小前提：苏格拉底是人
- 结论：苏格拉底是会死的

**形式逻辑示例：**
```
∀x (人(x) → 会死(x))
人(苏格拉底)
∴ 会死(苏格拉底)
```

### 推理规则
1. **假言推理：** 如果P则Q；P为真；因此Q
2. **否定后件：** 如果P则Q；非Q；因此非P
3. **假言三段论：** 如果P则Q；如果Q则R；因此如果P则R
4. **析取三段论：** P或Q；非P；因此Q

### 演绎推理中的归结
归结是用于自动定理证明的推理规则。它通过将语句转换为子句形式并应用归结原理来工作。

**归结过程：**
1. 将所有语句转换为子句形式（文字的析取）
2. 否定目标语句并添加到子句集中
3. 重复应用归结规则直到推导出空子句（反证法）

**示例：**
给定：
- 非P ∨ Q
- P
- 目标：Q

归结：
- 从非P ∨ Q和P，我们可以推导出Q
- 这证明了Q来自前提

## 2. 归纳推理

### 定义
归纳推理涉及从特定示例或观察中得出一般结论。与演绎推理不同，结论是概率性的而非确定性的。

### 特点
- **概率性：** 结论可能但不能保证为真
- **扩展性：** 添加超出前提的新信息
- **经验性：** 基于观察和经验

### 归纳推理类型
1. **概括：** 从特定案例中得出广泛结论
2. **类比推理：** 基于相似性的推理
3. **因果推理：** 推断因果关系

### 示例
**概括：**
- 观察：我见过的每只天鹅都是白色的
- 结论：所有天鹅都是白色的

**科学方法：**
- 从实验中收集数据
- 从数据模式中形成假设
- 用额外实验测试假设

### 机器学习连接
归纳推理是机器学习的基础：
- **训练：** 从示例中学习模式
- **概括：** 将学习的模式应用于新示例
- **过拟合vs.欠拟合：** 在特定和一般模式之间平衡

## 3. 不确定推理

### 不确定推理的需要
现实世界问题很少提供完整、确定的信息。不确定推理方法有助于处理：
- 不完整知识
- 噪声或不可靠数据
- 模糊或不精确信息
- 相互矛盾的证据

### 不确定推理方法

### 3.1 概率理论
概率理论为不确定推理提供了数学框架。

**基本概念：**
- P(A)：事件A发生的概率
- 0 ≤ P(A) ≤ 1
- P(A) + P(非A) = 1
- 条件概率：P(A|B) = P(A ∧ B) / P(B)

**贝叶斯定理：**
```
P(H|E) = P(E|H) × P(H) / P(E)
```
其中：
- P(H|E)：给定证据E的假设H的后验概率
- P(E|H)：给定假设的证据可能性
- P(H)：假设的先验概率
- P(E)：证据的先验概率

**示例：**
```
P(疾病|阳性测试) = P(阳性测试|疾病) × P(疾病) / P(阳性测试)
```

### 3.2 确定性因子理论
确定性因子用于专家系统中表示给定证据的假设的置信度。

**公式：**
```
CF(H, E) = MB(H, E) - MD(H, E)
```
其中：
- MB：由于E增加的对H的置信度
- MD：由于E增加的对H的不置信度
- CF：值在-1和+1之间

**组合确定性因子：**
- 对于AND：CF_combined = min(CF1, CF2)
- 对于OR：CF_combined = max(CF1, CF2)
- 对于规则：CF(H) = CF(E) × CF(规则)

**您的考试材料中的示例：**
给定：if E3 AND (E1 OR E2) THEN H={h1} cf={0.7}
CER(E3)=0.9, CER(E1)=0.5, CER(E2)=0.8
计算CER(H)：

步骤1：计算CER(E1 OR E2) = max(0.5, 0.8) = 0.8
步骤2：计算CER(E3 AND (E1 OR E2)) = min(0.9, 0.8) = 0.8
步骤3：计算CER(H) = 0.8 × 0.7 = 0.56

### 3.3 模糊逻辑
模糊逻辑允许在0和1之间的真值度，表示集合中的部分隶属度。

**关键概念：**
- 模糊集：对象可以有部分隶属度
- 隶属函数：隶属度（0到1）
- 语言变量：如"热"、"冷"、"高"等术语

**运算：**
- 并集：μA∪B(x) = max(μA(x), μB(x))
- 交集：μA∩B(x) = min(μA(x), μB(x))
- 补集：μĀ(x) = 1 - μA(x)

### 3.4 德姆斯特-沙弗理论
该理论通过允许无知和组合不同来源的证据来扩展概率。

**关键概念：**
- 基本概率分配
- 信任和合理函数
- 证据组合

## 4. 定理证明

### 归结定理证明
归结是一阶逻辑的完整推理程序。

**步骤：**
1. 将前提和否定目标转换为合取范式（CNF）
2. 应用归结规则直到推导出空子句
3. 空子句表示矛盾，证明目标

**示例：**
证明苏格拉底是会死的，给定：
- 所有人都是会死的：∀x (人(x) → 会死(x))
- 苏格拉底是人：人(苏格拉底)

1. 转换为CNF：非人(x) ∨ 会死(x)
2. 添加否定目标：非会死(苏格拉底)
3. 应用归结：从非人(x) ∨ 会死(x)和人(苏格拉底)，推导出会死(苏格拉底)
4. 从会死(苏格拉底)和非会死(苏格拉底)，推导出空子句

### 合一
合一是找到使两个表达式相同的替换的过程。

**示例：**
- 表达式1：P(x, f(y))
- 表达式2：P(a, f(b))
- 统一替换：{x/a, y/b}

## 5. 实际应用

### 专家系统
- 使用确定性因子进行不确定推理
- 应用逻辑推理进行结论推导
- 组合不同推理方法

### 自然语言处理
- 解析歧义句子
- 从上下文中推断含义
- 解决指称和回指

### 规划和决策制定
- 在不完整信息下的不确定推理
- 在不确定环境中的概率规划

## 练习题与解答

### 问题1：演绎推理
**问题：** 使用规则"如果下雨，地面就湿"和事实"正在下雨"，使用假言推理可以得出什么结论？

**解答：**
- 前提：如果下雨 → 地面湿 (P → Q)
- 事实：正在下雨 (P)
- 使用假言推理：P → Q, P ⊢ Q
- 结论：地面湿

### 问题2：归结定理证明
**问题：** 证明"马库斯不忠于凯撒"，给定：
1. 马库斯是人
2. 马库斯是庞培人
3. 所有庞培人都是罗马人
4. 凯撒是统治者
5. 所有罗马人要么忠于凯撒要么恨他
6. 人们只试图暗杀他们不忠的统治者
7. 马库斯试图暗杀凯撒

**解答：**
转换为子句形式：
1. 人(马库斯)
2. 庞培人(马库斯)
3. 非庞培人(x) ∨ 罗马人(x)
4. 统治者(凯撒)
5. 非罗马人(x) ∨ 忠于(x, 凯撒) ∨ 恨(x, 凯撒)
6. 非统治者(y) ∨ 非人(x) ∨ 忠于(x, y) ∨ 非试图暗杀(x, y)
7. 试图暗杀(马库斯, 凯撒)
8. 目标：非忠于(马库斯, 凯撒)（否定）

应用归结：
- 从(2)和(3)：罗马人(马库斯)
- 从(4)、(1)和(7)应用于(6)：忠于(马库斯, 凯撒)
- 从罗马人(马库斯)应用于(5)：忠于(马库斯, 凯撒) ∨ 恨(马库斯, 凯撒)
- 但我们从规则(6)推导出忠于(马库斯, 凯撒)，这与暗杀企图相矛盾
- 因此，非忠于(马库斯, 凯撒)必须为真

### 问题3：确定性因子
**问题：** 给定规则"IF E1 AND E2 THEN H with CF = 0.8"和证据CER(E1) = 0.7和CER(E2) = 0.9，计算CER(H)。

**解答：**
步骤1：计算CER(E1 AND E2) = min(0.7, 0.9) = 0.7
步骤2：计算CER(H) = 0.7 × 0.8 = 0.56

### 问题4：贝叶斯定理
**问题：** 在医学测试中，如果一个人有疾病，测试95%的时间呈阳性。如果一个人没有疾病，测试5%的时间呈阳性。疾病在人群中出现1%。如果有人测试呈阳性，他们有疾病的概率是多少？

**解答：**
给定：
- P(阳性|疾病) = 0.95
- P(阳性|无疾病) = 0.05
- P(疾病) = 0.01
- P(无疾病) = 0.99

使用贝叶斯定理：
P(疾病|阳性) = [P(阳性|疾病) × P(疾病)] / P(阳性)

P(阳性) = P(阳性|疾病) × P(疾病) + P(阳性|无疾病) × P(无疾病)
P(阳性) = 0.95 × 0.01 + 0.05 × 0.99 = 0.0095 + 0.0495 = 0.059

P(疾病|阳性) = (0.95 × 0.01) / 0.059 = 0.0095 / 0.059 ≈ 0.161 或 16.1%

### 问题5：模糊逻辑
**问题：** 如果温度表示为模糊集，"热"的隶属函数为：
- μ_热(x) = 0 如果 x ≤ 20°C
- μ_热(x) = (x-20)/10 如果 20°C < x ≤ 30°C
- μ_热(x) = 1 如果 x > 30°C

25°C的隶属值是多少？

**解答：**
由于20°C < 25°C ≤ 30°C，我们使用第二种情况：
μ_热(25) = (25-20)/10 = 5/10 = 0.5

25°C温度在"热"集中的隶属值为0.5。

## 要点总结

- 演绎推理从一般原理到具体结论进行推理并具有确定性
- 归纳推理从具体观察到一般结论进行推理并具有概率性
- 不确定推理方法处理不完整或不可靠信息
- 确定性因子、概率理论和模糊逻辑是不确定推理的重要工具
- 归结定理证明为自动推理提供系统方法
- 不同推理方法适用于不同类型的问题

## 附加练习题

### 高级问题1：归结证明
**问题：** 给定：(1) 所有人都是会死的 (2) 苏格拉底是人。使用归结证明苏格拉底是会死的。

**解答：**
1. 转换为CNF：非人(x) ∨ 会死(x)
2. 事实：人(苏格拉底)
3. 否定目标：非会死(苏格拉底)
4. 应用归结：
   - 从非人(x) ∨ 会死(x)和人(苏格拉底)：非会死(苏格拉底)和会死(苏格拉底)
   - 结果：空子句，证明目标

### 高级问题2：贝叶斯网络
**问题：** 在医学诊断系统中，5%的人有疾病。当疾病存在时，测试准确率为90%，当疾病不存在时，准确率为95%。如果有人测试呈阳性，他们有疾病的概率是多少？

**解答：**
使用贝叶斯定理：
- P(D) = 0.05
- P(Pos|D) = 0.90
- P(Pos|~D) = 0.05
- P(D|Pos) = [P(Pos|D) × P(D)] / [P(Pos|D) × P(D) + P(Pos|~D) × P(~D)]
- P(D|Pos) = [0.90 × 0.05] / [0.90 × 0.05 + 0.05 × 0.95] = 0.045 / (0.045 + 0.0475) = 0.486 或约48.6%
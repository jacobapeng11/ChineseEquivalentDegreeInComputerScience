# 第五章：专家系统和其结构 - 练习题

## 一、选择题（每题2分，共20分）

1. 专家系统的典型特征不包括：
   A. 使用启发式知识
   B. 解释能力
   C. 学习能力
   D. 推理能力

2. 专家系统的三个核心组成部分是：
   A. 知识库、推理机、解释设施
   B. 知识库、推理机、综合数据库
   C. 用户接口、推理机、知识获取设施
   D. 知识库、用户接口、解释设施

3. 正向链式推理（Forward Chaining）的特点是：
   A. 从目标出发，寻找支持证据
   B. 从已知事实出发，推导新结论
   C. 随机选择推理路径
   D. 只能进行一次推理

4. 在MYCIN专家系统中，不确定性处理使用的是：
   A. 概率推理
   B. 贝叶斯网络
   C. 确定性因子
   D. 模糊逻辑

5. 专家系统的知识获取困难问题被称为：
   A. 组合爆炸问题
   B. 知识瓶颈问题
   C. 推理效率问题
   D. 存储空间问题

6. 在冲突解决方案中，"最近使用优先"属于：
   A. 优先级方法
   B. 作用域限制法
   C. 复杂度方法
   D. 记住性方法

7. 专家系统的解释功能主要用于：
   A. 解释系统内部结构
   B. 解释推理过程和结论形成
   C. 解释硬件配置
   D. 解释用户操作

8. 产生式规则的标准形式是：
   A. 结论 → 条件
   B. 条件 → 结论
   C. 条件 ← 结论
   D. 条件 ↔ 结论

9. 专家系统与传统程序的主要区别在于：
   A. 使用高级语言
   B. 知识与控制分离
   C. 执行效率更高
   D. 存储容量更大

10. 以下哪项不是专家系统的优点？
    A. 永不疲劳
    B. 保持一致性
    C. 具有常识推理能力
    D. 成本效益高

## 二、填空题（每空2分，共20分）

1. 专家系统的五个基本组成部分是________、________、________、________和________。

2. 专家系统的两种基本推理方式是________和________。

3. 在MYCIN系统中，确定性因子CF = ________ - ________。

4. 专家系统的知识表示方式主要包括________、________和________。

5. 正向链式推理基于________驱动，反向链式推理基于________驱动。

6. 专家系统的开发过程包括________、________、________和________四个主要阶段。

## 三、计算题（每题10分，共30分）

1. 已知MYCIN系统的规则：IF E1 AND E2 THEN H {cf=0.8}
   证据置信度：CER(E1)=0.7, CER(E2)=0.6
   求CER(H)。

2. 考虑以下产生式规则：
   R1: IF 动物有羽毛 THEN 动物是鸟
   R2: IF 动物是鸟 AND 动物会游泳 THEN 动物是企鹅
   R3: IF 动物是鸟 AND 动物不能飞 THEN 可能是企鹅
   初始事实：动物有羽毛，动物会游泳
   请用正向链式推理得出结论。

3. 在确定性因子系统中，有两个规则支持同一假设H：
   R1: IF E1 THEN H {cf1=0.6}
   R2: IF E2 THEN H {cf2=0.5}
   且CER(E1)=0.8, CER(E2)=0.7
   求合成的CER(H)。

## 四、简答题（每题10分，共20分）

1. 说明专家系统的主要特点，并分析其优势和局限性。

2. 比较正向链式推理和反向链式推理的异同点及适用场景。

## 五、应用题（每题10分，共10分）

1. 设计一个医疗诊断专家系统，要求包括：系统功能描述、知识库结构设计、推理机制选择与实现、用户接口设计以及不确定性处理方法。请给出详细设计说明。

---
# 第五章：专家系统和其结构 - 详细答案

## 一、选择题答案

1. **答案：C**
   详解：传统专家系统通常不具备学习能力，这是其局限性之一。

2. **答案：B**
   详解：专家系统的核心是知识库（存储知识）、推理机（进行推理）和综合数据库（存储事实和中间结果）。

3. **答案：B**
   详解：正向链式推理从已知事实开始，通过规则推导新事实，直到达到目标。

4. **答案：C**
   详解：MYCIN系统是确定性因子方法的典型代表。

5. **答案：B**
   详解：知识瓶颈是指从专家处获取知识困难的问题。

6. **答案：D**
   详解：最近使用优先是记住性方法的一种，优先选择最近使用的规则。

7. **答案：B**
   详解：解释功能用于解释推理过程和结论的形成过程。

8. **答案：B**
   详解：产生式规则的标准形式是IF条件THEN结论。

9. **答案：B**
   详解：专家系统将知识部分（知识库）与控制部分（推理机）分离。

10. **答案：C**
    详解：专家系统通常缺乏常识推理能力，这是其局限性之一。

## 二、填空题答案

1. **答案：** 知识库、推理机、综合数据库、解释设施、知识获取设施
    详解：专家系统的五个基本组成部分。

2. **答案：** 正向链式推理、反向链式推理
    详解：两种基本推理方式。

3. **答案：** MB（信任度增量）、MD（不信任度增量）
    详解：确定性因子的构成。

4. **答案：** 产生式规则、框架、语义网络
    详解：常见的知识表示方式。

5. **答案：** 数据、目标
    详解：正向基于已知数据，反向基于目标假设。

6. **答案：** 知识获取、知识表示、系统实现、测试验证
    详解：专家系统开发的主要阶段。

## 三、计算题答案

### 1. 确定性因子计算

**答案：**
已知：IF E1 AND E2 THEN H {cf=0.8}，CER(E1)=0.7, CER(E2)=0.6

计算过程：
- CER(E1 AND E2) = min(CER(E1), CER(E2)) = min(0.7, 0.6) = 0.6
- CER(H) = CER(E1 AND E2) × CF(规则) = 0.6 × 0.8 = 0.48

**答案：** CER(H) = 0.48

**详解：** AND连接的证据取最小置信度，最终置信度为证据置信度乘以规则置信度。

### 2. 正向链式推理

**答案：**
初始事实：动物有羽毛，动物会游泳

推理过程：
- 规则R1匹配：动物有羽毛 → 动物是鸟（新事实添加）
- 规则R2匹配：动物是鸟 + 动物会游泳 → 动物是企鹅
- 推理结束

**结论：** 动物是企鹅

**详解：** 从初始事实出发，逐步应用规则推导新结论。

### 3. 确定性因子合成

**答案：**
计算各规则对H的贡献：
- 规则1对H的贡献：CF1_contribution = CER(E1) × CF1 = 0.8 × 0.6 = 0.48
- 规则2对H的贡献：CF2_contribution = CER(E2) × CF2 = 0.7 × 0.5 = 0.35

合成公式（同号）：
- CF_combined = CF1_contribution + CF2_contribution × (1 - |CF1_contribution|) 
- CF_combined = 0.48 + 0.35 × (1 - 0.48) = 0.48 + 0.35 × 0.52 = 0.48 + 0.182 = 0.662

**答案：** CER(H) = 0.662

**详解：** 多个规则支持同一假设时需要进行不确定性合成计算。

## 四、简答题答案

### 1. 专家系统的主要特点、优势和局限性

**主要特点：**
1. **知识密集：** 存储和使用专家知识
2. **启发式推理：** 使用经验性知识和判断
3. **符号处理：** 以符号形式处理知识
4. **解释能力：** 能解释推理过程
5. **不确定性处理：** 能处理不确定信息

**优势：**
1. **可用性：** 24小时可用，不会疲劳
2. **一致性：** 提供一致的判断和建议
3. **成本效益：** 一次开发，多次使用
4. **知识保存：** 将专家知识形式化保存
5. **培训工具：** 可作为培训工具使用
6. **辅助决策：** 提供决策支持

**局限性：**
1. **知识获取瓶颈：** 从专家获取知识困难
2. **狭窄领域：** 通常局限于特定领域
3. **无法学习：** 传统系统不具备学习能力
4. **常识缺失：** 缺乏一般常识推理能力
5. **脆弱性：** 对异常情况处理能力差
6. **维护困难：** 知识库维护需要专家参与

**详解：** 专家系统在特定领域具有专家水平的性能，但受限于知识获取和表示的困难。

### 2. 正向链式推理与反向链式推理比较

**相同点：**
- 都基于产生式规则进行推理
- 都能实现逻辑推理功能
- 都使用相同的规则库
- 都能得出正确结论

**不同点：**

| 方面 | 正向链式推理 | 反向链式推理 |
|------|--------------|--------------|
| 驱动方式 | 数据驱动 | 目标驱动 |
| 起始点 | 已知事实 | 目标假设 |
| 推理方向 | 从条件到结论 | 从结论到条件 |
| 适用场景 | 监控、预测、调度 | 诊断、设计、咨询 |
| 搜索策略 | 从数据出发 | 有目标导向 |
| 效率特点 | 可能产生冗余事实 | 集中推理过程 |
| 用户交互 | 较少 | 较多 |

**适用场景：**
- **正向链式：** 适合数据驱动的应用，如监控系统、控制系统、预测系统
- **反向链式：** 适合目标驱动的应用，如诊断系统、咨询系统、设计系统

**详解：** 两种推理方式各有优势，选择取决于具体应用需求。

## 五、应用题答案

### 1. 医疗诊断专家系统设计

**1. 系统功能描述：**
- **症状输入：** 接收患者症状和体征信息
- **疾病诊断：** 基于症状推导可能疾病
- **置信度评估：** 提供诊断的置信度
- **治疗建议：** 根据诊断提供治疗方案
- **解释功能：** 解释诊断推理过程
- **知识更新：** 支持医学知识库更新

**2. 知识库结构设计：**

*规则库：*
```
规则1: IF 患者发热 AND 咳嗽 AND 胸痛 THEN 患者可能患肺炎 {cf=0.7}
规则2: IF 患者头痛 AND 发热 AND 恶心 THEN 患者可能患脑膜炎 {cf=0.8}
规则3: IF 患者腹痛 AND 呕吐 AND 腹泻 THEN 患者可能患肠胃炎 {cf=0.6}
```

*框架库：*
```
框架: 疾病
  槽: 症状列表
  槽: 诊断标准
  槽: 治疗方案
  槽: 严重程度
  槽: 患病概率

框架: 患者
  槽: 基本信息
  槽: 症状
  槽: 病史
  槽: 检查结果
```

**3. 推理机制选择与实现：**

*选择反向链式推理：* 因为医疗诊断通常从怀疑的疾病出发验证症状。

*实现算法：*
```
function medical_diagnosis(goal_disease, patient_symptoms):
    1. 设置目标：goal_disease
    2. 验证目标是否在已知事实中
    3. 查找支持目标的规则
    4. 检查规则前提条件是否满足
    5. 如不满足，递归验证前提条件
    6. 计算目标置信度
    7. 返回诊断结果和置信度
```

*冲突解决方案：* 按置信度排序，优先处理高置信度规则。

**4. 用户接口设计：**

*图形界面：*
- 症状选择面板（复选框）
- 患者信息输入表单
- 诊断结果显示面板
- 推理过程展示
- 治疗建议输出

*交互流程：*
```
医生输入患者症状 → 系统分析症状 → 推理诊断 → 显示结果 → 解释推理过程
```

**5. 不确定性处理方法：**

*采用确定性因子方法：*
- **规则置信度：** 由医学专家提供
- **证据置信度：** 根据症状明显程度确定
- **合成机制：** 使用MYCIN的不确定性合成规则
- **阈值设置：** 设置诊断置信度阈值（如0.6），低于阈值的诊断需进一步检查

*具体实现：*
```python
class MedicalExpertSystem:
    def __init__(self):
        self.knowledge_base = {}  # 知识库
        self.conflict_threshold = 0.6  # 诊断阈值
        
    def diagnose(self, symptoms):
        # 推理诊断
        possible_diseases = []
        for disease in self.knowledge_base:
            cf = self.calculate_cf(disease, symptoms)
            if cf >= self.conflict_threshold:
                possible_diseases.append((disease, cf))
        return sorted(possible_diseases, key=lambda x: x[1], reverse=True)
    
    def explain_reasoning(self):
        # 提供推理解释
        pass
```

**详解：** 医疗诊断专家系统需要结合医学专业知识和AI技术，确保诊断的准确性和可解释性，同时要处理医学诊断中的不确定性。